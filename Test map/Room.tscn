[gd_scene load_steps=16 format=2]

[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Test map/wall.tscn" type="PackedScene" id=2]
[ext_resource path="res://Test map/Room.gd" type="Script" id=3]
[ext_resource path="res://Enemy/Target.tscn" type="PackedScene" id=4]
[ext_resource path="res://Test map/half_wall.tscn" type="PackedScene" id=5]
[ext_resource path="res://Music/Tryad - instrumentals - 08 struttin'.wav" type="AudioStream" id=6]
[ext_resource path="res://Music/AudioStreamPlayer.gd" type="Script" id=7]
[ext_resource path="res://Building blocks/walls.meshlib" type="MeshLibrary" id=8]
[ext_resource path="res://Building blocks/Floor.meshlib" type="MeshLibrary" id=9]
[ext_resource path="res://Interactables/crate.tscn" type="PackedScene" id=10]
[ext_resource path="res://Interactables/Breakable wall.tscn" type="PackedScene" id=11]

[sub_resource type="CubeMesh" id=1]
size = Vector3( 100, 0.1, 100 )

[sub_resource type="SpatialMaterial" id=2]
albedo_color = Color( 0.109804, 0.396078, 0.0313726, 1 )

[sub_resource type="ConcavePolygonShape" id=3]
data = PoolVector3Array( -50, 0.05, 50, 50, 0.05, 50, -50, -0.05, 50, 50, 0.05, 50, 50, -0.05, 50, -50, -0.05, 50, 50, 0.05, -50, -50, 0.05, -50, 50, -0.05, -50, -50, 0.05, -50, -50, -0.05, -50, 50, -0.05, -50, 50, 0.05, 50, 50, 0.05, -50, 50, -0.05, 50, 50, 0.05, -50, 50, -0.05, -50, 50, -0.05, 50, -50, 0.05, -50, -50, 0.05, 50, -50, -0.05, -50, -50, 0.05, 50, -50, -0.05, 50, -50, -0.05, -50, 50, 0.05, 50, -50, 0.05, 50, 50, 0.05, -50, -50, 0.05, 50, -50, 0.05, -50, 50, 0.05, -50, -50, -0.05, 50, 50, -0.05, 50, -50, -0.05, -50, 50, -0.05, 50, 50, -0.05, -50, -50, -0.05, -50 )

[sub_resource type="Environment" id=4]
ambient_light_color = Color( 1, 1, 1, 1 )
fog_color = Color( 0, 0, 0, 1 )
fog_sun_color = Color( 1, 0.901961, 0.701961, 1 )

[node name="Room" type="Spatial"]
script = ExtResource( 3 )

[node name="Spatial" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -173.791, 1, 0 )
__meta__ = {
"_edit_group_": true
}

[node name="Block wall" parent="Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.837015, 0 )

[node name="Block wall7" parent="Spatial" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 0.994522, -0.104528, 0, 0.104528, 0.994522, -33.1741, 0.837015, -26.756 )

[node name="Block wall2" parent="Spatial" instance=ExtResource( 5 )]
transform = Transform( 0.885702, 0, -0.464255, 0, 1, 0, 0.464255, 0, 0.885702, -4.54514, 0.837015, 18.3296 )

[node name="Block wall3" parent="Spatial" instance=ExtResource( 5 )]
transform = Transform( 0.885702, 0, -0.464255, 0, 1, 0, 0.464255, 0, 0.885702, -16.5995, 0.837015, 17.9172 )

[node name="Block wall4" parent="Spatial" instance=ExtResource( 5 )]
transform = Transform( 0.395337, 0, 0.918536, 0, 1, 0, -0.918536, 0, 0.395337, -17.0058, 0.837015, 22.3825 )

[node name="Block wall5" parent="Spatial" instance=ExtResource( 5 )]
transform = Transform( 0.395337, 0, 0.918536, 0, 1, 0, -0.918536, 0, 0.395337, 3.6411, 0.837015, 22.3825 )

[node name="Block wall6" parent="Spatial" instance=ExtResource( 5 )]
transform = Transform( 0.395337, 0, 0.918536, 0, 1, 0, -0.918536, 0, 0.395337, 9.55745, 0.837015, -2.36066 )

[node name="Floor" type="StaticBody" parent="Spatial"]
transform = Transform( 1, 0, 0, 0, 0.1, 0, 0, 0, 1, 0, -1.06801, 0 )

[node name="MeshInstance" type="MeshInstance" parent="Spatial/Floor"]
transform = Transform( 2.5, 0, 0, 0, 1, 0, 0, 0, 2, 0.0852995, 0, -0.0375328 )
layers = 65
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="CollisionShape" type="CollisionShape" parent="Spatial/Floor"]
transform = Transform( 2.5, 0, 0, 0, 1, 0, 0, 0, 2, 0.0852995, 0, -0.0375328 )
shape = SubResource( 3 )

[node name="Roof" type="StaticBody" parent="Spatial"]
transform = Transform( 1, 0, 0, 0, 0.1, 0, 0, 0, 1, 0, 14.8689, 0 )

[node name="MeshInstance" type="MeshInstance" parent="Spatial/Roof"]
transform = Transform( 2.5, 0, 0, 0, 1, 0, 0, 0, 2, 0.0852995, 0, -0.0375328 )
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="CollisionShape" type="CollisionShape" parent="Spatial/Roof"]
transform = Transform( 2.5, 0, 0, 0, 1, 0, 0, 0, 2, 0.0852995, 0, -0.0375328 )
shape = SubResource( 3 )

[node name="wall" parent="Spatial" instance=ExtResource( 2 )]
transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, -49.1605, 0.951, -28.2754 )

[node name="wall2" parent="Spatial" instance=ExtResource( 2 )]
transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, -49.1605, 0.951, 15.852 )

[node name="wall3" parent="Spatial" instance=ExtResource( 2 )]
transform = Transform( -0.712173, 0, 0.702004, 0, 1, 0, -0.702004, 0, -0.712173, -34.3761, 0.951, 54.7711 )

[node name="wall4" parent="Spatial" instance=ExtResource( 2 )]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 4.94971, 0.951, 72.3229 )

[node name="wall5" parent="Spatial" instance=ExtResource( 2 )]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 51.2232, 0.951, 72.3229 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 4 )

[node name="DirectionalLight" type="DirectionalLight" parent="WorldEnvironment"]
transform = Transform( 1, 0, 0, 0, -1.62921e-07, 1, 0, -1, -1.62921e-07, 0, 35, 0 )
visible = false
light_energy = 1.5
light_indirect_energy = 5.0
shadow_enabled = true

[node name="Walls" type="GridMap" parent="."]
transform = Transform( 8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 4, 0 )
mesh_library = ExtResource( 8 )
cell_size = Vector3( 1, 1, 1 )
data = {
"cells": PoolIntArray( 0, 0, 5, 1, 0, 538312704, 4, 0, 1441794, 6, 0, 1441797, 65531, 0, 537919493, 65535, 0, 537919488, 65536, 0, 537526277, 65537, 0, 537526277, 65538, 0, 538312704, 65539, 0, 536870917, 65540, 0, 538312706, 65542, 0, 538312709, 131071, 0, 537919493, 0, 1, 4, 4, 1, 538312709, 6, 1, 1075183621, 65531, 1, 1074790405, 65535, 1, 1073741829, 65540, 1, 538312709, 65542, 1, 1441797, 131071, 1, 5, 4, 2, 538312709, 6, 2, 1441797, 65531, 2, 537919493, 65540, 2, 1441797, 65542, 2, 1441797, 131066, 2, 538312705, 0, 3, 655365, 1, 3, 655365, 2, 3, 655364, 3, 3, 655365, 4, 3, 537526277, 5, 3, 1048579, 6, 3, -2146041851, 65531, 3, 537526272, 65532, 3, 655365, 65533, 3, 537526277, 65534, 3, 537526277, 65535, 3, 655365, 65536, 3, 537526277, 65537, 3, 655365, 65538, 3, 537526277, 65539, 3, 537526277, 65540, 3, 538312704, 65542, 3, 1441797, 131066, 3, 1441797, 131067, 3, 655361, 131071, 3, 537526277, 131075, 3, 537526273, -65535, 3, 537526277, -65534, 3, 655365, -65533, 3, 537526277, -65532, 3, 537526277, 5, 4, 537919493, 6, 4, 538312709, 65533, 4, 538312709, 65541, 4, 537919489, 65542, 4, 538312709, 131070, 4, 536870913, 131072, 4, 536870917, 131073, 4, 536870917, 131074, 4, 536870917, 196607, 4, 536870913, -65536, 4, 1441797, -65531, 4, 1048581, 5, 5, 1048577, 6, 5, 538312709, 65533, 5, 1441797, 65542, 5, 1441797, -65536, 5, 538312709, -65534, 5, 1048576, -65533, 5, 0, -65531, 5, 1048581, 4, 6, 1441793, 6, 6, 1441797, 65533, 6, 538312709, 65542, 6, 538312709, -65536, 6, 1441797, -65534, 6, 537526272, -65533, 6, 1441792, -65531, 6, 1048581, 0, 7, 655365, 1, 7, 537526277, 2, 7, 655365, 3, 7, 537526277, 4, 7, 1441792, 5, 7, 537526277, 6, 7, 1441792, 65534, 7, 537526272, 65535, 7, 655365, 65542, 7, 1441797, -65536, 7, 538312709, -65535, 7, 537526277, -65534, 7, 537526277, -65533, 7, 655365, -65532, 7, 537526277, -65531, 7, 537919493, 6, 65529, 538312709, 65530, 65529, 536870913, 65531, 65529, 536870912, 65542, 65529, 538312709, 131067, 65529, 538312705, 6, 65530, 538312709, 65532, 65530, 537526272, 65536, 65530, 537526277, 65537, 65530, 537526277, 65542, 65530, 538312709, 131068, 65530, 537526272, 131069, 65530, 537526277, 131070, 65530, 655365, 131071, 65530, 537526277, 0, 65531, 5, 1, 65531, 536870917, 2, 65531, 536870912, 6, 65531, 1612054533, 65533, 65531, 5, 65534, 65531, 5, 65535, 65531, 4, 65538, 65531, 0, 65542, 65531, 538312709, 2, 65532, 1441797, 6, 65532, 1441797, 65538, 65532, 1441797, 65542, 65532, 1441797, 2, 65533, 538312709, 6, 65533, 1441797, 65538, 65533, 1612054533, 65542, 65533, 1441797, 2, 65534, 1441797, 6, 65534, 538312709, 65530, 65534, 1, 65531, 65534, 5, 65532, 65534, 5, 65533, 65534, 917510, 65534, 65534, 1441794, 65538, 65534, 1441797, 65542, 65534, 1441797, 131067, 65534, 1, 131068, 65534, 536870917, 131069, 65534, 536870917, 131070, 65534, 538312706, 1, 65535, 1048576, 2, 65535, 538312704, 3, 65535, 655365, 6, 65535, 1441797, 65530, 65535, 1441793, 65534, 65535, 538312707, 65538, 65535, 538312709, 65542, 65535, 538312709, 131071, 65535, 537919493 )
}
__meta__ = {
"_edit_lock_": true,
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="Floor" type="GridMap" parent="."]
transform = Transform( 8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 3.25, 0 )
mesh_library = ExtResource( 9 )
cell_size = Vector3( 1, 1.02, 1 )
cell_scale = 0.999
data = {
"cells": PoolIntArray( 0, 0, 1, 1, 0, 1, 2, 0, 1, 3, 0, 1, 4, 0, 1, 5, 0, 1, 6, 0, 1, 65530, 0, 1, 65531, 0, 1, 65532, 0, 1, 65533, 0, 1, 65534, 0, 1, 65535, 0, 1, 65536, 0, 1, 65537, 0, 1, 65538, 0, 1441792, 131071, 0, 1, 0, 1, 1, 1, 1, 1, 2, 1, 1, 3, 1, 1, 4, 1, 1, 5, 1, 1, 6, 1, 1, 65530, 1, 1, 65531, 1, 1, 65532, 1, 1, 65533, 1, 1, 65534, 1, 1, 65535, 1, 1, 0, 2, 1, 1, 2, 1, 2, 2, 1, 3, 2, 1, 4, 2, 536870913, 5, 2, 1, 6, 2, 1, 65530, 2, 1, 65531, 2, 1, 65532, 2, 1, 65533, 2, 1, 65534, 2, 1, 65535, 2, 1, 0, 3, 1, 1, 3, 1, 2, 3, 1, 3, 3, 1, 4, 3, 1, 5, 3, 1, 6, 3, 1, 65530, 3, 1, 65531, 3, 1, 65532, 3, 1, 65533, 3, 1, 65534, 3, 1, 65535, 3, 1, 0, 4, 1, 5, 4, 1, 6, 4, 1, 65530, 4, 1, 65531, 4, 1, 65532, 4, 1, 65533, 4, 1, 65534, 4, 1, 65535, 4, 1, -65535, 4, 1048577, -65534, 4, 1048577, -65533, 4, 1048577, -65532, 4, 1048577, 0, 5, 1, 2, 5, 1, 3, 5, 1, 5, 5, 1, 6, 5, 1, 65530, 5, 1, 65531, 5, 1, 65532, 5, 1, 65533, 5, 1, 65534, 5, 1, 65535, 5, 1, -65535, 5, 1048577, -65534, 5, 1048577, -65533, 5, 537919489, -65532, 5, 537919489, 0, 6, 1, 2, 6, 536870913, 3, 6, -1610612735, 5, 6, 1610612737, 6, 6, 1, 65530, 6, 536870913, 65531, 6, 536870913, 65532, 6, 1, 65533, 6, 1, 65534, 6, 1, 65535, 6, 1, -65535, 6, 537919489, -65534, 6, 1048577, -65533, 6, 1048577, -65532, 6, 1048577, 0, 7, 1, 5, 7, 1, 6, 7, 1, 65530, 7, 1, 65531, 7, 1, 65532, 7, 1, 65533, 7, 536870913, 65534, 7, 1, 65535, 7, 1, -65535, 7, 1441795, -65534, 7, 1048577, -65533, 7, 1048577, -65532, 7, 1048577, 0, 65529, 1, 1, 65529, 1, 2, 65529, 1, 3, 65529, 1, 4, 65529, 1, 5, 65529, 1, 6, 65529, 1, 65530, 65529, 1, 65531, 65529, -1610612735, 65532, 65529, 1, 65533, 65529, 1, 65534, 65529, 1, 65535, 65529, 1, 0, 65530, 1, 1, 65530, 1, 2, 65530, 1, 3, 65530, 1, 4, 65530, 1, 5, 65530, 1, 6, 65530, 1, 65530, 65530, 1, 65531, 65530, 1, 65532, 65530, 1, 65533, 65530, 1, 65534, 65530, 1, 65535, 65530, 1, 0, 65531, 1, 1, 65531, 1, 2, 65531, 1, 3, 65531, 1, 4, 65531, 1, 5, 65531, 1, 6, 65531, 1, 65530, 65531, 1, 65531, 65531, 1, 65532, 65531, 1, 65533, 65531, 1, 65534, 65531, 1, 65535, 65531, 1, 0, 65532, 1, 1, 65532, 1, 2, 65532, 1, 3, 65532, 1, 4, 65532, 1, 5, 65532, 1, 6, 65532, 1, 65530, 65532, 1, 65531, 65532, 1, 65532, 65532, 1, 65533, 65532, 1, 65534, 65532, 1, 65535, 65532, 1, 0, 65533, 1, 1, 65533, 1, 2, 65533, 1, 3, 65533, 1, 4, 65533, 1, 5, 65533, 1, 6, 65533, 1, 65530, 65533, 1, 65531, 65533, 1, 65532, 65533, 1, 65533, 65533, 1, 65534, 65533, 1, 65535, 65533, 1, 0, 65534, 1, 1, 65534, 1, 2, 65534, 1, 3, 65534, 1, 4, 65534, 1, 5, 65534, 1, 6, 65534, 1, 65530, 65534, 1, 65531, 65534, 1, 65532, 65534, 1, 65533, 65534, 1, 65534, 65534, 1, 65535, 65534, 1, 0, 65535, 1, 1, 65535, 1, 2, 65535, 1, 3, 65535, 1, 4, 65535, 1, 5, 65535, 1, 6, 65535, 1, 65530, 65535, 1, 65531, 65535, 1, 65532, 65535, 1, 65533, 65535, 1, 65534, 65535, 1, 65535, 65535, 1, 65536, 65535, 1, 65537, 65535, 1, 65538, 65535, 1, 131071, 65535, 1 )
}
__meta__ = {
"_edit_lock_": true,
"_editor_clip_": 1,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
pause_mode = 2
stream = ExtResource( 6 )
autoplay = true
script = ExtResource( 7 )

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00666046, 0.395402, -45.5908 )

[node name="Target" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.007, 2, -25.187 )
target_health = 8

[node name="Target2" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -19.2178, 2, -23.672 )
target_health = 12

[node name="Crates" parent="." instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -14.209, 1.4568, -47.0989 )

[node name="Crates2" parent="." instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10.6804, -7.48107 )

[node name="crate" parent="." instance=ExtResource( 11 )]
transform = Transform( 2.1, 0, 0, 0, 2, 0, 0, 0, 2.1, -20, -0.085, -16 )
